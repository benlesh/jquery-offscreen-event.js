/*
	JQuery Offscreen Event v 0.0.1
	Copyright (c) 2012 Ben Lesh http://www.benlesh.com
	License: MIT
*/
(function(e,t,n){var r=0;e.event.special.offscreen={setup:function(n,i,s){var o=e(t).data("offscreen.watched");if(!o){o={};e(t).data("offscreen.watched",o);e(t).on("scroll",e.event.special.offscreen.handler)}o[r]={elem:this,delegateTarget:this,handler:s};e(this).data("offscreen.uid",r++)},teardown:function(n,r){var i=e(this),s=e(t).data("offscreen.watched");delete s[i.data("offscreen.uid")];if(s.length===0){s=null;e(t).off("scroll",e.event.special.offscreen.handler)}},handler:function(r){var i=e(t),s=i.data("offscreen.watched");for(var o in s){var u=s[o],a=[u.elem];if(u.selector){a=e(u.elem).find(u.selector)}for(var f=0;f<a.length;f++){var l=a[f];if(l){var c=e(l).offset(),h=e(t).scrollLeft(),p=e(t).scrollTop(),d={left:h-c.left,top:p-c.top,bottom:c.top-(p+e(n).height()),right:c.left-(h+e(n).width())};if(d.left>0||d.top>0||d.bottom>0||d.right>0){r.type="offscreen";r.offscreen=d;r.target=l;e.event.handle.apply(u.delegateTarget,arguments)}}}}},add:function(n){if(n.selector){var r=e(this),i=e(t).data("offscreen.watched"),s=r.data("offscreen.uid"),o=i[s];o.selector=n.selector}}}})(jQuery,document,window)
